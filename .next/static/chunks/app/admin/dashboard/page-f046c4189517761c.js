(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{3228:(e,t,i)=>{Promise.resolve().then(i.bind(i,4459))},4459:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var o=i(5155),n=i(2115),r=i(8758);function s(){let[e,t]=(0,n.useState)(null),[i,s]=(0,n.useState)(!0),[l,d]=(0,n.useState)(null),{isDark:a}=(0,r.D)();(0,n.useEffect)(()=>{x()},[]);let x=async()=>{try{s(!0);let e=await fetch("/api/analytics");if(e.ok){let i=await e.json();t(i)}else d("Failed to fetch analytics data")}catch(e){d("Error loading analytics")}finally{s(!1)}},c=a?"#0f172a":"#f8fafc",p=a?"#1e293b":"#ffffff",h=a?"#f1f5f9":"#1e293b",f=a?"#94a3b8":"#64748b",g=a?"#334155":"#e2e8f0";return i?(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:c,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"24px",marginBottom:"16px"},children:"⏳"}),(0,o.jsx)("p",{style:{color:h,fontSize:"16px"},children:"Loading dashboard..."})]})}):l||!e?(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:c,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsxs)("div",{style:{textAlign:"center"},children:[(0,o.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"❌"}),(0,o.jsx)("h1",{style:{color:h,fontSize:"24px",marginBottom:"8px"},children:"Error"}),(0,o.jsx)("p",{style:{color:f,fontSize:"16px"},children:l||"Failed to load analytics"})]})}):(0,o.jsx)("div",{style:{minHeight:"100vh",backgroundColor:c,padding:"24px"},children:(0,o.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,o.jsx)("h1",{style:{margin:"0 0 8px 0",fontSize:"32px",fontWeight:"700",color:h},children:"Dashboard"}),(0,o.jsx)("p",{style:{margin:"0",color:f,fontSize:"16px"},children:"Analytics and insights for your agreement management"})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px"},children:[(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[(0,o.jsx)("div",{style:{fontSize:"24px",marginRight:"12px",color:"#3b82f6"},children:"\uD83D\uDCC4"}),(0,o.jsx)("h3",{style:{margin:"0",fontSize:"18px",color:h},children:"Total Agreements"})]}),(0,o.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:h},children:e.overview.totalAgreements})]}),(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[(0,o.jsx)("div",{style:{fontSize:"24px",marginRight:"12px",color:"#059669"},children:"\uD83D\uDC65"}),(0,o.jsx)("h3",{style:{margin:"0",fontSize:"18px",color:h},children:"Total Clients"})]}),(0,o.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:h},children:e.overview.totalClients})]}),(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[(0,o.jsx)("div",{style:{fontSize:"24px",marginRight:"12px",color:"#7c3aed"},children:"\uD83D\uDCCB"}),(0,o.jsx)("h3",{style:{margin:"0",fontSize:"18px",color:h},children:"Templates"})]}),(0,o.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:h},children:e.overview.totalTemplates})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",color:h},children:"Agreement Status Distribution"}),(0,o.jsx)("div",{children:e.overview.statusDistribution.map((t,i)=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:i<e.overview.statusDistribution.length-1?"1px solid ".concat(g):"none"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:t.color,marginRight:"12px"}}),(0,o.jsx)("span",{style:{color:h,fontSize:"14px",fontWeight:"500"},children:t.status})]}),(0,o.jsx)("div",{style:{backgroundColor:t.color,color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:t.count})]},t.status))})]}),(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",color:h},children:"Recent Activity"}),(0,o.jsx)("div",{children:e.recentActivity.slice(0,5).map((e,t)=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:t<4?"1px solid ".concat(g):"none"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{fontWeight:"500",color:h,fontSize:"14px"},children:[e.client.firstName," ",e.client.lastName]}),(0,o.jsx)("div",{style:{color:f,fontSize:"12px"},children:e.template.title}),(0,o.jsx)("div",{style:{color:f,fontSize:"11px"},children:new Date(e.createdAt).toLocaleDateString("en-CA",{timeZone:"America/Toronto"})})]}),(0,o.jsx)("div",{style:{backgroundColor:"DRAFT"===e.status?"#fef2f2":"LIVE"===e.status?"#f0fdf4":"SIGNED"===e.status?"#eff6ff":"COMPLETED"===e.status?"#faf5ff":"#f1f5f9",color:"DRAFT"===e.status?"#dc2626":"LIVE"===e.status?"#059669":"SIGNED"===e.status?"#2563eb":"COMPLETED"===e.status?"#7c3aed":f,padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500"},children:e.status})]},e.id))})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:p,padding:"24px",borderRadius:"8px",border:"1px solid ".concat(g),boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,o.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",color:h},children:"Top Clients by Agreement Count"}),(0,o.jsx)("div",{children:e.topClients.map((t,i)=>(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:i<e.topClients.length-1?"1px solid ".concat(g):"none"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"500",color:h,fontSize:"14px"},children:t.name}),(0,o.jsx)("div",{style:{color:f,fontSize:"12px"},children:t.email})]}),(0,o.jsx)("div",{style:{backgroundColor:"#3b82f6",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:t.agreementCount})]},t.id))})]})]})})}},8758:(e,t,i)=>{"use strict";i.d(t,{D:()=>l,L:()=>s});var o=i(5155),n=i(2115);let r=(0,n.createContext)(void 0);function s(e){let{children:t}=e,[i,s]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=localStorage.getItem("darkMode");null!==e&&s(JSON.parse(e))},[]),(0,n.useEffect)(()=>{localStorage.setItem("darkMode",JSON.stringify(i))},[i]),(0,o.jsx)(r.Provider,{value:{isDark:i,toggleDarkMode:()=>{s(!i)}},children:t})}function l(){let e=(0,n.useContext)(r);if(void 0===e)throw Error("useDarkMode must be used within a DarkModeProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,1517,7358],()=>t(3228)),_N_E=e.O()}]);