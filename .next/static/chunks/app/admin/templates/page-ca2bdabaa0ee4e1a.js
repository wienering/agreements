(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{3916:(e,t,r)=>{Promise.resolve().then(r.bind(r,3940))},3940:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var i=r(5155),o=r(2115);function l(){let[e,t]=(0,o.useState)([]),[r,l]=(0,o.useState)(!1),[n,a]=(0,o.useState)(!1),[s,d]=(0,o.useState)({title:"",htmlContent:"",fieldsSchema:{}});(0,o.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("/api/templates");if(e.ok){let r=await e.json();t(r)}}catch(e){console.error("Error fetching templates:",e)}},c=async r=>{r.preventDefault(),a(!0);try{let r=await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(r.ok){let i=await r.json();t([i,...e]),l(!1),d({title:"",htmlContent:"",fieldsSchema:{}}),alert("Template created successfully!")}else{let e=await r.json();alert("Error: ".concat(e.error))}}catch(e){console.error("Error creating template:",e),alert("Failed to create template")}finally{a(!1)}};return(0,i.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{style:{margin:"0 0 8px 0",fontSize:"32px",color:"#0f172a",fontWeight:"bold"},children:"Photobooth Guys - Templates"}),(0,i.jsx)("p",{style:{margin:0,color:"#64748b",fontSize:"16px"},children:"Create and manage agreement templates"})]}),(0,i.jsx)("button",{onClick:()=>l(!0),style:{backgroundColor:"#059669",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},title:"Create a new agreement template",children:"+ Add Template"})]}),r&&(0,i.jsxs)("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",marginBottom:"24px"},children:[(0,i.jsx)("h2",{style:{margin:"0 0 24px 0",fontSize:"20px",color:"#0f172a",fontWeight:"bold"},children:"Add New Template"}),(0,i.jsxs)("form",{onSubmit:c,children:[(0,i.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Template Title *"}),(0,i.jsx)("input",{type:"text",value:s.title,onChange:e=>d({...s,title:e.target.value}),required:!0,placeholder:"e.g., Wedding Photography Agreement",title:"A descriptive name for your template",style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"16px",backgroundColor:"white"}})]}),(0,i.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"HTML Content *"}),(0,i.jsx)("textarea",{value:s.htmlContent,onChange:e=>d({...s,htmlContent:e.target.value}),required:!0,rows:10,placeholder:"Enter your HTML template content here. Use {{fieldName}} for dynamic fields.",title:"HTML content with smart fields like {{client.firstName}}",style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"monospace",resize:"vertical",backgroundColor:"white"}}),(0,i.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#64748b",fontSize:"14px"},children:["Use smart fields like ","{{client.firstName}}",", ","{{client.lastName}}",", ","{{eventDate}}"," etc."]})]}),(0,i.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,i.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#374151"},children:"Fields Schema (JSON)"}),(0,i.jsx)("textarea",{value:JSON.stringify(s.fieldsSchema,null,2),onChange:e=>{try{d({...s,fieldsSchema:JSON.parse(e.target.value)})}catch(e){}},rows:6,placeholder:'{"client.firstName": {"type": "text", "required": true, "editableByClient": false}}',title:"Define field types, requirements, and permissions (optional)",style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"16px",fontFamily:"monospace",resize:"vertical",backgroundColor:"white"}}),(0,i.jsx)("p",{style:{margin:"8px 0 0 0",color:"#64748b",fontSize:"14px"},children:"Define field types, requirements, and permissions. Leave empty for now."})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,i.jsx)("button",{type:"submit",disabled:n,style:{backgroundColor:n?"#9ca3af":"#059669",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:n?"not-allowed":"pointer",fontSize:"16px",fontWeight:"500"},title:"Save the new template",children:n?"Creating...":"Add Template"}),(0,i.jsx)("button",{type:"button",onClick:()=>l(!1),style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"500"},title:"Cancel creating template",children:"Cancel"})]})]})]}),(0,i.jsx)("div",{style:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0",padding:"24px"},children:0===e.length?(0,i.jsx)("p",{style:{color:"#64748b",fontSize:"16px",textAlign:"center"},children:"No templates yet. Create your first template to get started."}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#0f172a",fontWeight:"bold"},children:["Templates (",e.length,")"]}),(0,i.jsx)("div",{style:{display:"grid",gap:"12px"},children:e.map(e=>(0,i.jsx)("div",{style:{padding:"16px",border:"1px solid #e2e8f0",borderRadius:"6px",backgroundColor:"#f8fafc"},children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",color:"#0f172a",fontWeight:"600"},children:e.title}),(0,i.jsxs)("p",{style:{margin:"0 0 4px 0",color:"#64748b",fontSize:"14px"},children:["Version ",e.version]}),(0,i.jsxs)("p",{style:{margin:"0 0 4px 0",color:"#64748b",fontSize:"14px"},children:[e.htmlContent.length," characters"]})]}),(0,i.jsxs)("span",{style:{fontSize:"12px",color:"#9ca3af",backgroundColor:"#f1f5f9",padding:"4px 8px",borderRadius:"4px"},children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})},e.id))})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3916)),_N_E=e.O()}]);