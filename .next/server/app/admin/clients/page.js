(()=>{var e={};e.id=97,e.ids=[97],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55612:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>x,tree:()=>d});var o=r(70260),n=r(28203),i=r(25155),a=r.n(i),l=r(67292),s={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);r.d(t,s);let d=["",{children:["admin",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63735)),"C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,54899)),"C:\\Users\\denni\\agreements\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\denni\\agreements\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],p=["C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},x=new o.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/clients/page",pathname:"/admin/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32677:(e,t,r)=>{Promise.resolve().then(r.bind(r,63735))},69125:(e,t,r)=>{Promise.resolve().then(r.bind(r,92939))},92939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(45512),n=r(58009),i=r(41238),a=r(79334),l=r(45653);function s(){let[e,t]=(0,n.useState)([]),[r,s]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),[c,x]=(0,n.useState)(null),[u,g]=(0,n.useState)(!1),[h,m]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",eventDate:"",eventType:"",eventLocation:"",eventStartTime:"",eventDuration:"",eventPackage:"",notes:""}),{isDark:v}=(0,i.D)();(0,a.useRouter)();let{showToast:f,ToastContainer:y}=(0,l.d)(),b=async r=>{r.preventDefault(),p(!0);try{let r=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(r.ok){let o=await r.json();t([o,...e]),s(!1),m({firstName:"",lastName:"",email:"",phone:"",eventDate:"",eventType:"",eventLocation:"",eventStartTime:"",eventDuration:"",eventPackage:"",notes:""}),f("Client added successfully!")}else try{let e=await r.json(),t=e.error||e.message||"Unknown error occurred";f(`Error: ${t}`,"error")}catch(e){console.error("Failed to parse error response:",e),f(`Error: Failed to create client (${r.status})`,"error")}}catch(e){console.error("Error creating client:",e),f("Failed to create client","error")}finally{p(!1)}},j=async r=>{if(r.preventDefault(),c){p(!0);try{let r=await fetch("/api/clients/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...h,id:c.id})});if(r.ok){let o=await r.json();t(e.map(e=>e.id===c.id?o:e)),s(!1),x(null),m({firstName:"",lastName:"",email:"",phone:"",eventDate:"",eventType:"",eventLocation:"",eventStartTime:"",eventDuration:"",eventPackage:"",notes:""}),f("Client updated successfully!")}else try{let e=await r.json(),t=e.error||e.message||"Unknown error occurred";f(`Error: ${t}`,"error")}catch(e){console.error("Failed to parse error response:",e),f(`Error: Failed to update client (${r.status})`,"error")}}catch(e){console.error("Error updating client:",e),f("Failed to update client","error")}finally{p(!1)}}},C=e=>{x(e),m({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",eventDate:e.eventDate?new Date(e.eventDate).toISOString().slice(0,16):"",eventType:e.eventType||"",eventLocation:e.eventLocation||"",eventStartTime:e.eventStartTime||"",eventDuration:e.eventDuration||"",eventPackage:e.eventPackage||"",notes:e.notes||""}),s(!0)},k=v?"#1e293b":"#ffffff",S=v?"#f1f5f9":"#1e293b",w=v?"#94a3b8":"#64748b",D=v?"#334155":"#e2e8f0";return(0,o.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:v?"#0f172a":"#f8fafc",padding:u?"16px":"24px"},children:[(0,o.jsx)(y,{}),(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexDirection:u?"column":"row",gap:u?"16px":"0"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{margin:"0 0 8px 0",fontSize:u?"24px":"32px",fontWeight:"700",color:S},children:"Clients"}),(0,o.jsx)("p",{style:{margin:"0",color:w,fontSize:"16px"},children:"Manage your client database"})]}),(0,o.jsx)("button",{onClick:()=>s(!0),style:{backgroundColor:"#3b82f6",color:"white",border:"none",padding:u?"12px 20px":"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",width:u?"100%":"auto"},title:"Add a new client",children:"+ New Client"})]}),r&&(0,o.jsxs)("div",{style:{backgroundColor:k,border:`1px solid ${D}`,borderRadius:"8px",padding:"24px",marginBottom:"24px"},children:[(0,o.jsx)("h2",{style:{margin:"0 0 16px 0",fontSize:"18px",color:S},children:c?"Edit Client":"Add New Client"}),(0,o.jsxs)("form",{onSubmit:c?j:b,children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:u?"1fr":"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"First Name *"}),(0,o.jsx)("input",{type:"text",value:h.firstName,onChange:e=>m({...h,firstName:e.target.value}),required:!0,style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"Enter first name"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Last Name *"}),(0,o.jsx)("input",{type:"text",value:h.lastName,onChange:e=>m({...h,lastName:e.target.value}),required:!0,style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"Enter last name"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Email *"}),(0,o.jsx)("input",{type:"email",value:h.email,onChange:e=>m({...h,email:e.target.value}),required:!0,style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"Enter email address"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Phone"}),(0,o.jsx)("input",{type:"tel",value:h.phone,onChange:e=>m({...h,phone:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"Enter phone number"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Event Date"}),(0,o.jsx)("input",{type:"datetime-local",value:h.eventDate,onChange:e=>m({...h,eventDate:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Event Type"}),(0,o.jsx)("input",{type:"text",value:h.eventType,onChange:e=>m({...h,eventType:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"e.g., Wedding, Corporate Event"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Event Location"}),(0,o.jsx)("input",{type:"text",value:h.eventLocation,onChange:e=>m({...h,eventLocation:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"e.g., Grand Ballroom, Downtown Hotel"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Event Start Time"}),(0,o.jsx)("input",{type:"text",value:h.eventStartTime,onChange:e=>m({...h,eventStartTime:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"e.g., 2:00 PM, 14:00"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Event Duration"}),(0,o.jsx)("input",{type:"text",value:h.eventDuration,onChange:e=>m({...h,eventDuration:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"e.g., 4 hours, 8 hours"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Package"}),(0,o.jsx)("input",{type:"text",value:h.eventPackage,onChange:e=>m({...h,eventPackage:e.target.value}),style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px"},placeholder:"e.g., Premium Package, Basic Package"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:S},children:"Notes"}),(0,o.jsx)("textarea",{value:h.notes,onChange:e=>m({...h,notes:e.target.value}),rows:3,style:{width:"100%",padding:"8px 12px",border:`1px solid ${D}`,borderRadius:"4px",backgroundColor:k,color:S,fontSize:"14px",resize:"vertical"},placeholder:"Enter any additional notes"})]})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{type:"button",onClick:()=>{s(!1),x(null),m({firstName:"",lastName:"",email:"",phone:"",eventDate:"",eventType:"",eventLocation:"",eventStartTime:"",eventDuration:"",eventPackage:"",notes:""})},style:{backgroundColor:"transparent",color:w,border:`1px solid ${D}`,padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),(0,o.jsx)("button",{type:"submit",disabled:d,style:{backgroundColor:d?"#9ca3af":"#3b82f6",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:d?"not-allowed":"pointer",fontSize:"14px"},children:d?c?"Updating...":"Adding...":c?"Update Client":"Add Client"})]})]})]}),0===e.length?(0,o.jsx)("div",{style:{backgroundColor:k,border:`1px solid ${D}`,borderRadius:"8px",padding:"48px 24px",textAlign:"center"},children:(0,o.jsx)("p",{style:{margin:"0",color:w,fontSize:"16px"},children:"No clients found. Add your first client to get started."})}):(0,o.jsx)("div",{style:{display:"grid",gap:"16px"},children:e.map(e=>(0,o.jsxs)("div",{style:{backgroundColor:k,border:`1px solid ${D}`,borderRadius:"8px",padding:"20px"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px",flexDirection:u?"column":"row",gap:u?"12px":"0"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",color:S,fontWeight:"600"},children:[e.firstName," ",e.lastName]}),(0,o.jsx)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:e.email}),e.phone&&(0,o.jsx)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:e.phone}),e.eventDate&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Event: ",new Date(e.eventDate).toLocaleDateString()]}),e.eventType&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Type: ",e.eventType]}),e.eventLocation&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Location: ",e.eventLocation]}),e.eventStartTime&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Time: ",e.eventStartTime]}),e.eventDuration&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Duration: ",e.eventDuration]}),e.eventPackage&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:["Package: ",e.eventPackage]}),e.notes&&(0,o.jsx)("p",{style:{margin:"0 0 4px 0",color:w,fontSize:"14px"},children:e.notes})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"8px",flexDirection:u?"column":"row"},children:(0,o.jsxs)("span",{style:{fontSize:"12px",color:w,backgroundColor:v?"#1e293b":"#f1f5f9",padding:"4px 8px",borderRadius:"4px",alignSelf:u?"flex-start":"auto"},children:["Added ",new Date(e.createdAt).toLocaleDateString()]})})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:(0,o.jsx)("button",{onClick:()=>C(e),style:{backgroundColor:"#059669",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#047857"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#059669"},title:"Edit client details",children:"Edit"})})]},e.id))})]})]})}},45653:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var o=r(45512),n=r(58009);function i({message:e,type:t="success",duration:r=3e3,onClose:i}){let[a,l]=(0,n.useState)(!0);return(0,o.jsx)("div",{style:(()=>{let e={position:"fixed",top:"20px",right:"20px",zIndex:9999,padding:"12px 20px",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"500",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",transform:a?"translateX(0)":"translateX(100%)",transition:"transform 0.3s ease-in-out",maxWidth:"300px",wordWrap:"break-word"};switch(t){case"success":default:return{...e,backgroundColor:"#10b981"};case"error":return{...e,backgroundColor:"#ef4444"};case"info":return{...e,backgroundColor:"#3b82f6"}}})(),children:e})}function a(){let[e,t]=(0,n.useState)([]),r=e=>{t(t=>t.filter(t=>t.id!==e))};return{showToast:(e,r="success")=>{let o=Date.now();t(t=>[...t,{id:o,message:e,type:r}])},ToastContainer:()=>(0,o.jsx)("div",{children:e.map(e=>(0,o.jsx)(i,{message:e.message,type:e.type,onClose:()=>r(e.id)},e.id))})}}},63735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\denni\\\\agreements\\\\app\\\\admin\\\\clients\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,247,730,525],()=>r(55612));module.exports=o})();