(()=>{var e={};e.id=97,e.ids=[97],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55612:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,pages:()=>p,routeModule:()=>c,tree:()=>d});var o=r(70260),i=r(28203),n=r(25155),a=r.n(n),l=r(67292),s={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);r.d(t,s);let d=["",{children:["admin",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63735)),"C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,54899)),"C:\\Users\\denni\\agreements\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"C:\\Users\\denni\\agreements\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"]}],p=["C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},c=new o.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/clients/page",pathname:"/admin/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},32677:(e,t,r)=>{Promise.resolve().then(r.bind(r,63735))},69125:(e,t,r)=>{Promise.resolve().then(r.bind(r,92939))},92939:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var o=r(45512),i=r(58009),n=r(41238);function a(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(!1),[l,s]=(0,i.useState)(null),[d,p]=(0,i.useState)(!1),[x,c]=(0,i.useState)(!1),[u,g]=(0,i.useState)({firstName:"",lastName:"",email:"",phone:"",eventDate:"",notes:""}),{isDark:h}=(0,n.D)(),f=async r=>{r.preventDefault(),p(!0);try{let r=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(r.ok){let o=await r.json();t([o,...e]),a(!1),g({firstName:"",lastName:"",email:"",phone:"",eventDate:"",notes:""}),alert("Client added successfully!")}else try{let e=await r.json(),t=e.error||e.message||"Unknown error occurred";alert(`Error: ${t}`)}catch(e){console.error("Failed to parse error response:",e),alert(`Error: Failed to create client (${r.status})`)}}catch(e){console.error("Error creating client:",e),alert("Failed to create client")}finally{p(!1)}},m=e=>{s(e),g({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",eventDate:e.eventDate?new Date(e.eventDate).toISOString().split("T")[0]:"",notes:e.notes||""}),a(!0)},b=async r=>{if(r.preventDefault(),l){p(!0);try{let r=await fetch("/api/clients/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...u,id:l.id})});if(r.ok){let o=await r.json();t(e.map(e=>e.id===l.id?o:e)),a(!1),s(null),g({firstName:"",lastName:"",email:"",phone:"",eventDate:"",notes:""}),alert("Client updated successfully!")}else try{let e=await r.json(),t=e.error||e.message||"Unknown error occurred";alert(`Error: ${t}`)}catch(e){console.error("Failed to parse error response:",e),alert(`Error: Failed to update client (${r.status})`)}}catch(e){console.error("Error updating client:",e),alert("Failed to update client")}finally{p(!1)}}},y=h?"#f8fafc":"#0f172a",v=h?"#1e293b":"#ffffff",j=h?"#334155":"#e2e8f0",C=h?"#94a3b8":"#64748b",S=h?"#0f172a":"#ffffff";return(0,o.jsxs)("div",{style:{padding:x?"16px":"24px",backgroundColor:h?"#0f172a":"#f8fafc",minHeight:"100vh",color:y},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:x?"flex-start":"center",marginBottom:"24px",flexDirection:x?"column":"row",gap:x?"16px":"0"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{margin:"0 0 8px 0",fontSize:x?"24px":"32px",color:y,fontWeight:"bold"},children:x?"Clients":"Photobooth Guys - Clients"}),(0,o.jsx)("p",{style:{margin:0,color:C,fontSize:"16px"},children:"Manage your client information"})]}),(0,o.jsx)("button",{onClick:()=>a(!0),style:{backgroundColor:"#059669",color:"white",border:"none",padding:x?"12px 16px":"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:x?"14px":"16px",fontWeight:"500",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",width:x?"100%":"auto"},title:"Add a new client to the system",children:"+ Add Client"})]}),r&&(0,o.jsxs)("div",{style:{backgroundColor:v,padding:x?"16px":"24px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:`1px solid ${j}`,marginBottom:"24px"},children:[(0,o.jsx)("h2",{style:{margin:"0 0 24px 0",fontSize:"20px",color:y,fontWeight:"bold"},children:l?"Edit Client":"Add New Client"}),(0,o.jsxs)("form",{onSubmit:l?b:f,children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:x?"1fr":"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"First Name *"}),(0,o.jsx)("input",{type:"text",value:u.firstName,onChange:e=>g({...u,firstName:e.target.value}),required:!0,title:"Client's first name",style:{width:"100%",padding:"12px 16px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",backgroundColor:S,color:y,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"Last Name *"}),(0,o.jsx)("input",{type:"text",value:u.lastName,onChange:e=>g({...u,lastName:e.target.value}),required:!0,title:"Client's last name",style:{width:"100%",padding:"12px 16px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",backgroundColor:S,color:y,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"Email *"}),(0,o.jsx)("input",{type:"email",value:u.email,onChange:e=>g({...u,email:e.target.value}),required:!0,title:"Client's email address for communication",style:{width:"100%",padding:"12px 16px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",backgroundColor:S,color:y,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"Phone"}),(0,o.jsx)("input",{type:"tel",value:u.phone,onChange:e=>g({...u,phone:e.target.value}),title:"Client's phone number",style:{width:"100%",padding:"12px 16px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",backgroundColor:S,color:y,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px",marginBottom:"16px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"Event Date"}),(0,o.jsx)("input",{type:"date",value:u.eventDate,onChange:e=>g({...u,eventDate:e.target.value}),title:"Date of the client's event",style:{width:"100%",padding:"12px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",backgroundColor:S,color:y,colorScheme:h?"dark":"light"}})]}),(0,o.jsx)("div",{})]}),(0,o.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:y},children:"Notes"}),(0,o.jsx)("textarea",{value:u.notes,onChange:e=>g({...u,notes:e.target.value}),rows:3,title:"Additional notes about the client",style:{width:"100%",padding:"12px 16px",border:`1px solid ${j}`,borderRadius:"6px",fontSize:"16px",resize:"vertical",backgroundColor:S,color:y,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px",flexDirection:x?"column":"row"},children:[(0,o.jsx)("button",{type:"submit",disabled:d,style:{backgroundColor:d?"#9ca3af":"#059669",color:"white",border:"none",padding:x?"12px 16px":"12px 24px",borderRadius:"6px",cursor:d?"not-allowed":"pointer",fontSize:x?"14px":"16px",fontWeight:"500",width:x?"100%":"auto"},title:l?"Save client changes":"Save the new client",children:d?l?"Updating...":"Adding...":l?"Update Client":"Add Client"}),(0,o.jsx)("button",{type:"button",onClick:()=>{a(!1),s(null),g({firstName:"",lastName:"",email:"",phone:"",eventDate:"",notes:""})},style:{backgroundColor:"#6b7280",color:"white",border:"none",padding:x?"12px 16px":"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:x?"14px":"16px",fontWeight:"500",width:x?"100%":"auto"},title:"Cancel",children:"Cancel"})]})]})]}),(0,o.jsx)("div",{style:{backgroundColor:v,borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:`1px solid ${j}`,padding:x?"16px":"24px"},children:0===e.length?(0,o.jsx)("p",{style:{color:C,fontSize:"16px",textAlign:"center"},children:"No clients yet. Add your first client to get started."}):(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{style:{margin:"0 0 16px 0",fontSize:"20px",color:y,fontWeight:"bold"},children:["Clients (",e.length,")"]}),(0,o.jsx)("div",{style:{display:"grid",gap:"12px"},children:e.map(e=>(0,o.jsxs)("div",{style:{padding:"16px",border:`1px solid ${j}`,borderRadius:"6px",backgroundColor:h?"#0f172a":"#f8fafc"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px",flexDirection:x?"column":"row",gap:x?"8px":"0"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{style:{margin:"0 0 4px 0",fontSize:"16px",color:y,fontWeight:"600"},children:[e.firstName," ",e.lastName]}),(0,o.jsx)("p",{style:{margin:"0 0 4px 0",color:C,fontSize:"14px"},children:e.email}),e.phone&&(0,o.jsx)("p",{style:{margin:"0 0 4px 0",color:C,fontSize:"14px"},children:e.phone}),e.eventDate&&(0,o.jsxs)("p",{style:{margin:"0 0 4px 0",color:C,fontSize:"14px"},children:["Event: ",new Date(e.eventDate).toLocaleDateString()]})]}),(0,o.jsxs)("span",{style:{fontSize:"12px",color:C,backgroundColor:h?"#1e293b":"#f1f5f9",padding:"4px 8px",borderRadius:"4px",alignSelf:x?"flex-start":"auto"},children:["Added ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,o.jsx)("div",{style:{display:"flex",gap:"8px",flexDirection:x?"column":"row"},children:(0,o.jsx)("button",{onClick:()=>m(e),style:{backgroundColor:"#3b82f6",color:"white",border:"none",padding:x?"10px 16px":"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:x?"14px":"12px",fontWeight:"500",width:x?"100%":"auto"},title:"Edit client details",children:"Edit"})})]},e.id))})]})})]})}},63735:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\denni\\\\agreements\\\\app\\\\admin\\\\clients\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\denni\\agreements\\app\\admin\\clients\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,247,730,525],()=>r(55612));module.exports=o})();